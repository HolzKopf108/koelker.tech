<!-- src/app/pages/home.page.html -->
<section class="animate-in space-y-14">
  <!-- HERO -->
  <div class="space-y-6">
    <div class="flex flex-wrap gap-2">
      <span class="pill">Softwareentwicklung</span>
      <span class="pill">Backend & Web</span>
      <span class="pill">Open Source</span>
    </div>

    <h1 class="text-6xl sm:text-7xl font-extrabold tracking-tight text-zinc-50 leading-[0.95]">
      Linus Kölker
    </h1>

    <p class="max-w-2xl text-zinc-300 leading-relaxed">
      Softwareentwicklung · saubere Implementierung · Deployment & Infrastruktur<br />
      <span class="text-zinc-400">Klar, robust, professionell.</span>
    </p>

    <div class="flex flex-wrap gap-3">
      <a class="btn-primary lift" href="https://github.com/HolzKopf108" target="_blank" rel="noopener">
        GitHub
      </a>
      <a class="btn-secondary lift" href="https://www.linkedin.com/in/linus-k%C3%B6lker-013a25258/" target="_blank" rel="noopener">
        LinkedIn
      </a>
    </div>
  </div>

  <!-- INFO GRID -->
  <div class="grid gap-4 sm:grid-cols-3">
    <div class="card stagger-1">
      <p class="text-xs font-semibold text-emerald-300">Fokus</p>
      <ul class="mt-3 space-y-1 text-sm text-zinc-300">
        <li>Clean Code</li>
        <li>Architektur</li>
        <li>Testbarkeit</li>
      </ul>
    </div>

    <div class="card stagger-2">
      <p class="text-xs font-semibold text-emerald-300">Stack</p>
      <p class="mt-3 text-sm text-zinc-300">
        Java · Spring Boot · TypeScript · Angular · React · Next.js · Flutter · Docker · Git · GitHub Actions
      </p>
    </div>

    <div class="card stagger-3">
      <p class="text-xs font-semibold text-emerald-300">Kontakt</p>

      <p class="mt-3 text-sm text-zinc-300 break-all">
        {{ email }}
      </p>

      <div class="mt-4 flex items-center gap-2">
        <a
          class="icon-btn lift"
          [href]="mailtoHref()"
          aria-label="E-Mail schreiben"
          title="E-Mail schreiben"
        >
          <!-- Mail icon -->
          <svg viewBox="0 0 24 24" class="h-4 w-4" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 4h16v16H4z" opacity=".0"></path>
            <path d="M4 6h16v12H4z"></path>
            <path d="M4 7l8 6 8-6"></path>
          </svg>
        </a>

        <button
          class="icon-btn lift"
          type="button"
          (click)="copyEmail()"
          [attr.aria-label]="copied() ? 'Kopiert' : 'E-Mail kopieren'"
          [attr.title]="copied() ? 'Kopiert' : 'E-Mail kopieren'"
        >
          <!-- Copy icon -->
          <svg viewBox="0 0 24 24" class="h-4 w-4" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 9h10v10H9z"></path>
            <path d="M5 15H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1"></path>
          </svg>
        </button>

        @if (copied()) {
          <span class="ml-2 text-xs text-emerald-300">Kopiert.</span>
        }
      </div>
    </div>
  </div>

  <!-- PROJECTS -->
  <div class="space-y-6">
    <div class="flex items-end justify-between gap-4">
      <div>
        <h2 class="text-xl font-semibold text-zinc-50">Projekte</h2>
        <p class="mt-1 text-sm text-zinc-400">
          Auswahl aus meinen auf GitHub angepinnten Repositories.
        </p>
      </div>

      <a class="text-sm font-semibold text-emerald-300 hover:text-emerald-200"
         href="https://github.com/HolzKopf108"
         target="_blank" rel="noopener">
        Alle ansehen →
      </a>
    </div>

    @if (loading()) {
      <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
        @for (i of [1,2,3,4,5,6]; track i) {
          <div class="card">
            <div class="h-4 w-2/3 animate-pulse rounded bg-zinc-800/60"></div>
            <div class="mt-4 h-3 w-full animate-pulse rounded bg-zinc-800/40"></div>
            <div class="mt-2 h-3 w-5/6 animate-pulse rounded bg-zinc-800/40"></div>
            <div class="mt-5 h-3 w-1/3 animate-pulse rounded bg-zinc-800/40"></div>
          </div>
        }
      </div>
    } @else if (error()) {
      <div class="card">
        <p class="text-sm text-zinc-300">Konnte Projekte nicht laden: {{ error() }}</p>
        <p class="mt-2 text-sm text-zinc-400">
          Fehler
        </p>
      </div>
    } @else {
      <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
        @for (repo of repos(); track repo.id) {
          <a class="card lift block" [href]="repo.url" target="_blank" rel="noopener">
            <h3 class="text-sm font-semibold text-zinc-100 truncate">{{ repo.name }}</h3>

            <p class="mt-3 text-sm text-zinc-300 line-clamp-3">
              {{ repo.description || 'Keine Beschreibung vorhanden.' }}
            </p>

            <div class="mt-4 flex flex-wrap gap-2">
              @for (lang of repo.languages; track lang) {
                <span class="pill">{{ lang }}</span>
              }
            </div>
          </a>
        }
      </div>
    }
  </div>
</section>
